{"version":3,"sources":["webpack://visiosto.fi/./src/components/Layout.jsx","webpack://visiosto.fi/./src/components/Rule.jsx","webpack://visiosto.fi/./src/templates/blog.jsx"],"names":["props","listenColorScheme","PageTitle","styled","theme","layout","marginPhone","devices","phoneL","marginTablet","tablet","title","children","Div","ruleType","data","useStaticQuery","blueRule","blueRule3","lightBlueRule","lightBlueRule3","peachRule","peachRule3","creamRule","creamRule3","blueRule2","lightBlueRule2","peachRule2","creamRule2","blueRule1","lightBlueRule1","peachRule1","creamRule1","getRules","mode","Image","color","alt","light","getImage","dark","Post","marginDesktop","PostHeader","H2","PostMeta","PostAuthor","PostContent","Page","lang","i","createIntl","useIntl","Link","pageContext","createLink","posts","allMarkdownRemark","edges","pageKey","key","map","post","node","to","fields","keySlug","frontmatter","datetime","date","author","excerpt","locale"],"mappings":"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","file":"component---src-templates-blog-jsx-384b14c60a2c44cd332c.js","sourcesContent":["// Copyright (c) 2021 Visiosto oy\n// Licensed under the MIT License\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport Footer from './Footer';\nimport GlobalStyle from './GlobalStyle';\nimport Head from './Head';\nimport Header from './Header';\n\nimport listenColorScheme from '../utils/listenColorScheme';\n\nexport default (props) => {\n  listenColorScheme();\n\n  const PageTitle = styled.h1`\n    margin: 2em ${(props) => props.theme.layout.marginPhone};\n    font-size: 2rem;\n    text-align: center;\n\n    @media screen and ${(props) => props.theme.devices.phoneL} {\n      margin: 2em ${(props) => props.theme.layout.marginTablet};\n      font-size: 3rem;\n    }\n\n    @media screen and ${(props) => props.theme.devices.tablet} {\n      margin: 2em ${(props) => props.theme.layout.marginTablet};\n      font-size: 3rem;\n    }\n  `;\n\n  return (\n    <>\n      <GlobalStyle />\n      <Head {...props} />\n      <Header {...props} />\n      <main>\n        <section>\n          <header>\n            <PageTitle>{props.title}</PageTitle>\n          </header>\n          <div>{props.children}</div>\n        </section>\n      </main>\n      <Footer {...props} />\n    </>\n  );\n};\n","// Copyright (c) 2021 Visiosto oy\n// Licensed under the MIT License\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport { getImage } from 'gatsby-plugin-image';\n\nimport SchemedImage from './SchemedImage';\n\nconst getRules = (ruleType) => {\n  const data = useStaticQuery(\n    graphql`\n      {\n        blueRule1: file(relativePath: { eq: \"rule/blue-rule-1.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        lightBlueRule1: file(relativePath: { eq: \"rule/light-blue-rule-1.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        peachRule1: file(relativePath: { eq: \"rule/peach-rule-1.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        creamRule1: file(relativePath: { eq: \"rule/cream-rule-1.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        blueRule2: file(relativePath: { eq: \"rule/blue-rule-2.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        lightBlueRule2: file(relativePath: { eq: \"rule/light-blue-rule-2.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        peachRule2: file(relativePath: { eq: \"rule/peach-rule-2.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        creamRule2: file(relativePath: { eq: \"rule/cream-rule-2.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        blueRule3: file(relativePath: { eq: \"rule/blue-rule-3.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        lightBlueRule3: file(relativePath: { eq: \"rule/light-blue-rule-3.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        peachRule3: file(relativePath: { eq: \"rule/peach-rule-3.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n        creamRule3: file(relativePath: { eq: \"rule/cream-rule-3.png\" }) {\n          childImageSharp {\n            gatsbyImageData(width: 250, height: 50, layout: FIXED)\n          }\n        }\n      }\n    `,\n  );\n  switch (ruleType) {\n    case 3:\n      return {\n        blueRule: data.blueRule3,\n        lightBlueRule: data.lightBlueRule3,\n        peachRule: data.peachRule3,\n        creamRule: data.creamRule3,\n      };\n    case 2:\n      return {\n        blueRule: data.blueRule2,\n        lightBlueRule: data.lightBlueRule2,\n        peachRule: data.peachRule2,\n        creamRule: data.creamRule2,\n      };\n    case 1:\n    default:\n      return {\n        blueRule: data.blueRule1,\n        lightBlueRule: data.lightBlueRule1,\n        peachRule: data.peachRule1,\n        creamRule: data.creamRule1,\n      };\n  }\n};\n\nconst Div = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport default (props) => {\n  const { blueRule, lightBlueRule, peachRule, creamRule } = getRules(props.mode);\n\n  const Image = () => {\n    if (props.color === 'peach') {\n      return <SchemedImage alt=\"\" light={getImage(peachRule)} dark={getImage(creamRule)} />;\n    } else if (props.color === 'blue') {\n      return <SchemedImage alt=\"\" light={getImage(blueRule)} dark={getImage(lightBlueRule)} />;\n    }\n  };\n\n  return (\n    <Div>\n      <Image />\n    </Div>\n  );\n};\n","// Copyright (c) 2021 Visiosto oy\n// Licensed under the MIT License\n\nimport React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\nimport styled from 'styled-components';\nimport { useIntl } from 'react-intl';\n\nimport Intl from '../components/Intl';\nimport Layout from '../components/Layout';\nimport Rule from '../components/Rule';\nimport Theme from '../components/Theme';\n\nimport createLink from '../components/createLink';\n\nimport createIntl from '../utils/createIntl';\n\nconst Post = styled.article`\n  margin: 2em ${(props) => props.theme.layout.marginPhone};\n\n  @media screen and ${(props) => props.theme.devices.phoneL} {\n    margin: 2em ${(props) => props.theme.layout.marginTablet};\n  }\n\n  @media screen and ${(props) => props.theme.devices.tablet} {\n    margin: 2em ${(props) => props.theme.layout.marginDesktop};\n  }\n`;\n\nconst PostHeader = styled.header``;\n\nconst H2 = styled.h2`\n  text-align: center;\n  font-size: 2rem;\n`;\n\nconst createStyledLink = (lang) => styled(createLink(lang))`\n  text-decoration: none;\n  color: var(--color-text);\n\n  &:visited {\n    color: var(--color-text);\n  }\n\n  &:hover,\n  &:focus,\n  &:active {\n    text-decoration: underline;\n    color: var(--color-link-text);\n  }\n`;\n\nconst PostMeta = styled.div`\n  margin: 2em 0;\n  text-align: center;\n\n  @media screen and ${(props) => props.theme.devices.phoneL} {\n    margin: 2em 0;\n  }\n\n  @media screen and ${(props) => props.theme.devices.tablet} {\n    margin: 2em 0;\n  }\n`;\n\nconst PostAuthor = styled.span`\n  clear: both;\n  display: block;\n`;\n\nconst PostContent = styled.div``;\n\nconst Page = (props) => {\n  const i = createIntl(useIntl());\n  const Link = createStyledLink(props.pageContext.lang);\n\n  const { edges: posts } = props.data.allMarkdownRemark;\n\n  return (\n    <Layout title={i('blogTitle')} lang={props.pageContext.lang} pageKey={props.pageContext.key}>\n      <Rule color=\"peach\" mode={2} />\n      {posts.map(({ node: post }) => {\n        return (\n          <Post>\n            <PostHeader>\n              <H2>\n                <Link to={post.fields.keySlug}>{post.frontmatter.title}</Link>\n              </H2>\n              <PostMeta>\n                <time datetime={post.frontmatter.datetime}>{post.frontmatter.date}</time>\n                <PostAuthor>{post.frontmatter.author}</PostAuthor>\n              </PostMeta>\n            </PostHeader>\n            <PostContent>\n              <p>{post.excerpt}</p>\n            </PostContent>\n            <Rule color=\"blue\" mode={2} />\n          </Post>\n        );\n      })}\n    </Layout>\n  );\n};\n\nconst Blog = (props) => (\n  <Intl locale={props.pageContext.lang}>\n    <Theme>\n      <Page {...props} />\n    </Theme>\n  </Intl>\n);\n\nexport default Blog;\n\nexport const pageQuery = graphql`\n  query BlogQuery($lang: String, $momentJsLocale: String) {\n    allMarkdownRemark(\n      filter: { fields: { keySlug: { glob: \"**/blog/**\" }, locale: { eq: $lang } } }\n      sort: { order: DESC, fields: [frontmatter___date] }\n    ) {\n      edges {\n        node {\n          excerpt(pruneLength: 500)\n          frontmatter {\n            title\n            author\n            datetime: date\n            date: date(formatString: \"LL\", locale: $momentJsLocale)\n          }\n          fields {\n            keySlug\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}